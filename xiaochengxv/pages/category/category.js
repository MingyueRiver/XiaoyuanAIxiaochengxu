// pages/category/category.js
Page({

  /**
   * é¡µé¢çš„åˆå§‹æ•°æ®
   */
  data: {
    // ä¸€çº§åˆ†ç±»æ•°æ®ï¼ˆåœºåœ°/ä»»åŠ¡/èµ„æº/æ´»åŠ¨ï¼‰
    firstCategories: [
      { type: 'venues', icon: 'ğŸ¢', name: 'åœºåœ°' },
      { type: 'tasks', icon: 'ğŸ“‹', name: 'ä»»åŠ¡' },
      { type: 'resources', icon: 'ğŸ“š', name: 'èµ„æº' },
      { type: 'activities', icon: 'ğŸ‰', name: 'å¥½ç‰©' }
    ],
    activeFirst: '', // é»˜è®¤é€‰ä¸­ã€Œåœºåœ°ã€åˆ†ç±»
    // äºŒçº§åˆ†ç±»æ•°æ®ï¼ˆå’Œä¸€çº§åˆ†ç±»ä¸€ä¸€å¯¹åº”ï¼‰
    secondCategories: {
      venues: [ // åœºåœ°çš„äºŒçº§åˆ†ç±»
        { id: 1, icon: 'ğŸ«', name: 'æ•™å­¦æ¥¼æ•™å®¤' },
        { id: 2, icon: 'ğŸ“š', name: 'å›¾ä¹¦é¦†ç ”è®¨å®¤' },
        { id: 3, icon: 'ğŸŸï¸', name: 'ä½“è‚²åœºé¦†' }, 
      ],
      tasks: [ // ä»»åŠ¡çš„äºŒçº§åˆ†ç±»
        { id: 4, icon: 'âœï¸', name: 'æ–‡æ¡ˆå†™ä½œ' },
        { id: 5, icon: 'ğŸ¨', name: 'è®¾è®¡åˆ¶ä½œ' },
        { id: 6, icon: 'ğŸ’»', name: 'æŠ€æœ¯å¼€å‘' },
        { id: 7, icon: 'ğŸ“¢', name: 'ç­”ç–‘è§£æƒ‘' },
        { id: 8, icon: 'ğŸ“¦', name: 'è·‘è…¿ä»£åŠ' },
        { id: 9, icon: 'ğŸ“š', name: 'å­¦ä¹ è¾…å¯¼' }
      ],
      resources: [ // èµ„æºçš„äºŒçº§åˆ†ç±»
        { id: 10, icon: 'ğŸ“', name: 'å­¦ä¹ ç¬”è®°' },
        { id: 11, icon: 'ğŸ“Š', name: 'åŠå…¬æ¨¡æ¿' },
        { id: 12, icon: 'ğŸ¥', name: 'è§†é¢‘æ•™ç¨‹' },
        { id: 13, icon: 'ğŸ”§', name: 'å·¥å…·è½¯ä»¶' },
        { id: 14, icon: 'ğŸ“œ', name: 'æ–‡çŒ®èµ„æ–™' },
        { id: 15, icon: 'ğŸµ', name: 'ç´ æèµ„æº' }
      ],
      activities: [ // å¥½ç‰©çš„äºŒçº§åˆ†ç±»
        { id: 19, icon: 'ğŸ¤', name: 'é—²ç½®ç™¾è´§' },
        { id: 20, icon: 'ğŸ“š', name: 'å›¾ä¹¦èµ„æ–™' },
        { id: 21, icon: 'ğŸ€', name: 'è¿åŠ¨ç”¨å“' },
        { id: 22, icon: 'ğŸ¨', name: 'å­¦ä¹ ç”¨å…·' },
        { id: 23, icon: 'ğŸ¤', name: 'ç”µå­è®¾å¤‡' },
      ]
    },
    currentSecondCategories: [] // ç”¨æ¥å­˜å‚¨å½“å‰æ˜¾ç¤ºçš„äºŒçº§åˆ†ç±»
  },

  /**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åŠ è½½
   */
  onLoad() {
    // â‘¡ å…³é”®ï¼šåˆ é™¤åˆå§‹åŒ–èµ‹å€¼ä»£ç ï¼ˆä¸é»˜è®¤åŠ è½½ä»»ä½•äºŒçº§åˆ†ç±»ï¼‰
    // åŸæ¥çš„ä»£ç ï¼šthis.setData({ currentSecondCategories: secondCategories[activeFirst] });
    // ç°åœ¨æ¸…ç©ºï¼Œä»€ä¹ˆéƒ½ä¸å†™
  },

  switchFirstCategory(e) {
    // è·å–ç‚¹å‡»çš„ä¸€çº§åˆ†ç±»ç±»å‹ï¼ˆå¦‚ï¼švenues/tasks/resourcesï¼‰
    const type = e.currentTarget.dataset.type;
    const { secondCategories } = this.data;

    // æ›´æ–°ã€Œé€‰ä¸­çš„ä¸€çº§åˆ†ç±»ã€å’Œã€Œå¯¹åº”çš„äºŒçº§åˆ†ç±»ã€
    this.setData({
      activeFirst: type, // é€‰ä¸­å½“å‰ç‚¹å‡»çš„ä¸€çº§åˆ†ç±»
      currentSecondCategories: secondCategories[type] // åˆ‡æ¢æ˜¾ç¤ºå¯¹åº”çš„äºŒçº§åˆ†ç±»
    });
  },

  /**
   * ç‚¹å‡»äºŒçº§åˆ†ç±»ï¼ˆå¦‚ã€Œæ•™å­¦æ¥¼æ•™å®¤ã€ï¼‰ï¼Œè·³è½¬è‡³å¯¹åº”åˆ—è¡¨é¡µ
   */
  goToDetail(e) {
    // è·å–ç‚¹å‡»çš„äºŒçº§åˆ†ç±»IDå’Œåç§°ï¼ˆä»wxmlçš„data-idå’Œdata-nameä¸­è·å–ï¼‰
    const { id, name } = e.currentTarget.dataset;

    // æ˜¾ç¤ºæç¤ºï¼ˆå‘Šè¯‰ä½ å·²ç»ç‚¹å‡»æˆåŠŸï¼Œåç»­å¯æ›¿æ¢ä¸ºçœŸå®è·³è½¬ï¼‰
    wx.showToast({
      title: `è¿›å…¥ã€Œ${name}ã€åˆ—è¡¨`,
      icon: 'none',
      duration: 1500
    });

    // ï¼ˆå¯é€‰ï¼‰å¦‚æœè¦è·³è½¬åˆ°å…·ä½“çš„åˆ—è¡¨é¡µï¼Œæ›¿æ¢ä¸Šé¢çš„showToastä¸ºä»¥ä¸‹ä»£ç ï¼š
    // wx.navigateTo({
    //   url: `/pages/category-detail/category-detail?id=${id}&name=${name}`,
    //   // è·³è½¬æ—¶æºå¸¦åˆ†ç±»IDå’Œåç§°ï¼Œæ–¹ä¾¿åˆ—è¡¨é¡µç­›é€‰æ•°æ®
    // });
  },

  /**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ
   */
  onReady() {},

  /**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢æ˜¾ç¤º
   */
  onShow() {},

  /**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢éšè—
   */
  onHide() {},

  /**
   * ç”Ÿå‘½å‘¨æœŸå‡½æ•°--ç›‘å¬é¡µé¢å¸è½½
   */
  onUnload() {},

  /**
   * é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°--ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ
   */
  onPullDownRefresh() {},

  /**
   * é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•°
   */
  onReachBottom() {},

  /**
   * ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº«
   */
  onShareAppMessage() {}
});